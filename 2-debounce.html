<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Debounce - 防抖</title>
</head>
<body>
	<input type="text" id="input" />
	<div id="content"></div>

	<script>
		/**
		 * 防抖
		 *
		 */

		// 在这里给 input 绑定 oninput 事件
		// 在用户停止输入后 延迟delay 毫秒后执行回调

		const debounce = function (fn, delay = 1000) {
		  let time = null
		  return function (...args) {
		  	console.log(args)
		  	// point to input element
		    let that = this
		    time && clearTimeout(time)
		    time = setTimeout(function () {
		      fn.apply(that, args)
		    }, delay)
		  }
		}

		const input = document.getElementById('input')

		input.oninput = debounce(e => {
		  document.getElementById('content').innerText = e.target.value
		}, 1500)

	</script>
</body>
</html>